<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GG Point ‚Äî –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-blue: #2563eb;
            --primary-dark: #1e40af;
            --accent-teal: #0d9488;
            --accent-purple: #7c3aed;
            --sale-red: #ef4444;
            --sale-orange: #f97316;
            --discount-pink: #db2777;
            --hot-gradient: linear-gradient(135deg, #ff6b00 0%, #ff0000 100%);
            --dark-bg: #0f172a;
            --card-bg: #1e293b;
            --text-light: #f8fafc;
            --text-gray: #cbd5e1;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* üî• –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ö–µ–¥–µ—Ä */
        header {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            border-bottom: 2px solid var(--primary-blue);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: bold;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo a {
            text-decoration: none;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .admin-header-info {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .admin-welcome {
            color: var(--text-light);
            font-size: 1.1rem;
        }

        .logout-btn {
            background: transparent;
            border: 2px solid var(--sale-red);
            color: var(--sale-red);
            padding: 0.7rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 1rem;
        }

        .logout-btn:hover {
            background: var(--sale-red);
            color: var(--text-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3);
        }

        /* üéØ –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .admin-main {
            flex: 1;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .admin-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--text-light);
            position: relative;
        }

        .admin-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        /* üéØ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø */
        .quick-access {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .quick-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
            text-decoration: none;
            color: var(--text-light);
        }

        .quick-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-blue);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.2);
        }

        .quick-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-blue);
        }

        .quick-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .quick-desc {
            color: var(--text-gray);
            font-size: 0.9rem;
        }

        /* üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 3rem;
            border: 1px solid #334155;
        }

        .stats-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            border-left: 4px solid var(--primary-blue);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-gray);
            font-size: 0.9rem;
        }

        /* üé™ –°–µ–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .management-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid #334155;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .action-btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .action-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .action-btn.delete {
            background: var(--sale-red);
        }

        .action-btn.delete:hover {
            background: #dc2626;
        }

        .action-btn.success {
            background: var(--accent-teal);
        }

        .action-btn.success:hover {
            background: #0f766e;
        }

        /* üìã –¢–∞–±–ª–∏—Ü—ã */
        .products-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .products-table th {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            text-align: left;
            color: var(--text-light);
            font-weight: 600;
            border-bottom: 2px solid #334155;
        }

        .products-table td {
            padding: 1rem;
            border-bottom: 1px solid #334155;
            color: var(--text-gray);
        }

        .products-table tr:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        .product-image-small {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 8px;
            border: 1px solid #475569;
        }

        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
        }

        .status-active {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .status-inactive {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .table-actions {
            display: flex;
            gap: 0.5rem;
        }

        .table-btn {
            padding: 0.4rem 0.8rem;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .table-btn.edit {
            background: rgba(37, 99, 235, 0.2);
            color: var(--primary-blue);
        }

        .table-btn.edit:hover {
            background: var(--primary-blue);
            color: white;
        }

        .table-btn.delete {
            background: rgba(239, 68, 68, 0.2);
            color: var(--sale-red);
        }

        .table-btn.delete:hover {
            background: var(--sale-red);
            color: white;
        }

        /* üìù –§–æ—Ä–º—ã */
        .form-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
            z-index: 2000;
            overflow-y: auto;
        }

        .form-content {
            position: relative;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2.5rem;
            max-width: 600px;
            width: 90%;
            margin: 2rem auto;
            border: 2px solid var(--primary-blue);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .close-form {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-gray);
            transition: color 0.3s ease;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            z-index: 2001;
        }

        .close-form:hover {
            color: var(--primary-blue);
            background: rgba(37, 99, 235, 0.1);
        }

        .form-title {
            margin-bottom: 2rem;
            color: var(--primary-blue);
            text-align: center;
            font-size: 1.8rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-light);
            font-weight: 600;
            font-size: 1rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            background: var(--dark-bg);
            border: 2px solid #334155;
            border-radius: 8px;
            color: var(--text-light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .image-input-group {
            margin-bottom: 1rem;
        }

        .image-input-wrapper {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .image-input-wrapper input {
            flex: 1;
        }

        .remove-btn {
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            background: #dc2626;
        }

        .add-btn {
            background: var(--accent-teal);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .add-btn:hover {
            background: #0f766e;
            transform: translateY(-2px);
        }

        .image-preview {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .preview-title {
            color: var(--text-light);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .preview-images {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .preview-img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: 5px;
            border: 2px solid var(--primary-blue);
        }

        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: var(--gradient);
            border: none;
            border-radius: 10px;
            color: var(--text-light);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            margin-top: 1rem;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        /* üì± –ê–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .admin-header-info {
                flex-direction: column;
                gap: 1rem;
            }
            
            .admin-main {
                padding: 1rem;
            }
            
            .admin-title {
                font-size: 2rem;
            }
            
            .quick-access {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .products-table {
                display: block;
                overflow-x: auto;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .action-buttons {
                width: 100%;
            }
            
            .action-btn {
                flex: 1;
                justify-content: center;
            }
        }

        /* üé™ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            z-index: 3000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .notification.error {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        .notification.info {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }

        .notification.warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
    </style>
</head>
<body>
    <!-- üéØ –®–∞–ø–∫–∞ –∞–¥–º–∏–Ω–∫–∏ -->
    <header>
        <div class="header-container">
            <div class="logo">
                <a href="index.html">GGPOINT –ê–î–ú–ò–ù</a>
            </div>
            <div class="admin-header-info">
                <div class="admin-welcome" id="adminWelcome">
                    <i class="fas fa-user-shield"></i> –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                </button>
            </div>
        </div>
    </header>

    <!-- üìä –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="admin-main">
        <h1 class="admin-title">
            <i class="fas fa-cogs"></i> –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GGPoint
        </h1>

        <!-- üéØ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø -->
        <div class="quick-access">
            <a href="#keycaps" class="quick-card">
                <div class="quick-icon">
                    <i class="fas fa-keyboard"></i>
                </div>
                <div class="quick-title">–ö–µ–π–∫–∞–ø—ã</div>
                <div class="quick-desc">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏—à–∞–º–∏ –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä</div>
            </a>
            
            <a href="#mats" class="quick-card">
                <div class="quick-icon">
                    <i class="fas fa-mouse"></i>
                </div>
                <div class="quick-title">–ö–æ–≤—Ä–∏–∫–∏</div>
                <div class="quick-desc">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã–º–∏ –∫–æ–≤—Ä–∏–∫–∞–º–∏</div>
            </a>
            
            <a href="#products" class="quick-card">
                <div class="quick-icon">
                    <i class="fas fa-box"></i>
                </div>
                <div class="quick-title">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</div>
                <div class="quick-desc">–ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º</div>
            </a>
            
            <a href="#comments" class="quick-card">
                <div class="quick-icon">
                    <i class="fas fa-comments"></i>
                </div>
                <div class="quick-title">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</div>
                <div class="quick-desc">–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</div>
            </a>
        </div>

        <!-- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-section">
            <h2 class="stats-title">
                <i class="fas fa-chart-line"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
            </h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalProducts">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="keycapsCount">0</div>
                    <div class="stat-label">–ö–µ–π–∫–∞–ø–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="matsCount">0</div>
                    <div class="stat-label">–ö–æ–≤—Ä–∏–∫–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="commentsCount">0</div>
                    <div class="stat-label">–û—Ç–∑—ã–≤–æ–≤</div>
                </div>
            </div>
        </div>

        <!-- üé™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ–π–∫–∞–ø–∞–º–∏ -->
        <div class="management-section" id="keycaps">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-keyboard"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ–π–∫–∞–ø–∞–º–∏
                </h2>
                <div class="action-buttons">
                    <button class="action-btn" id="addKeycapBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–µ–π–∫–∞–ø—ã
                    </button>
                    <button class="action-btn success" id="refreshKeycapsBtn">
                        <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>–§–æ—Ç–æ</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–ë—Ä–µ–Ω–¥</th>
                            <th>–¶–µ–Ω–∞</th>
                            <th>–ú–∞—Ç–µ—Ä–∏–∞–ª</th>
                            <th>–ü—Ä–æ—Ñ–∏–ª—å</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="keycapsTableBody">
                        <!-- –ö–µ–π–∫–∞–ø—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- üé™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–≤—Ä–∏–∫–∞–º–∏ -->
        <div class="management-section" id="mats">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-mouse"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–≤—Ä–∏–∫–∞–º–∏
                </h2>
                <div class="action-buttons">
                    <button class="action-btn" id="addMatBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–æ–≤—Ä–∏–∫
                    </button>
                    <button class="action-btn success" id="refreshMatsBtn">
                        <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>–§–æ—Ç–æ</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–ë—Ä–µ–Ω–¥</th>
                            <th>–¶–µ–Ω–∞</th>
                            <th>–†–∞–∑–º–µ—Ä</th>
                            <th>–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="matsTableBody">
                        <!-- –ö–æ–≤—Ä–∏–∫–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- üé™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏ -->
        <div class="management-section" id="products">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-box"></i> –í—Å–µ —Ç–æ–≤–∞—Ä—ã
                </h2>
                <div class="action-buttons">
                    <button class="action-btn" id="addProductBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
                    </button>
                    <button class="action-btn success" id="refreshAllBtn">
                        <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>–§–æ—Ç–æ</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            <th>–ë—Ä–µ–Ω–¥</th>
                            <th>–¶–µ–Ω–∞</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="allProductsTableBody">
                        <!-- –í—Å–µ —Ç–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- üé™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ -->
        <div class="management-section" id="comments">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-comments"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
                </h2>
                <div class="action-buttons">
                    <button class="action-btn success" id="refreshCommentsBtn">
                        <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>–ê–≤—Ç–æ—Ä</th>
                            <th>–¢–µ–∫—Å—Ç</th>
                            <th>–¢–æ–≤–∞—Ä</th>
                            <th>–î–∞—Ç–∞</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="commentsTableBody">
                        <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- üìù –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–µ–π–∫–∞–ø–æ–≤ -->
    <div class="form-modal" id="addKeycapModal">
        <div class="form-content">
            <button class="close-form" id="closeKeycapModal">&times;</button>
            <h2 class="form-title">
                <i class="fas fa-keyboard"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–µ–π–∫–∞–ø—ã
            </h2>
            <form id="addKeycapForm">
                <div class="form-group">
                    <label for="keycapName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–µ–π–∫–∞–ø–æ–≤ *</label>
                    <input type="text" id="keycapName" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–∞–±–æ—Ä –∫–µ–π–∫–∞–ø–æ–≤ PBT Double-shot">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="keycapBrand">–ë—Ä–µ–Ω–¥ *</label>
                        <input type="text" id="keycapBrand" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: YMDK, Akko">
                    </div>
                    <div class="form-group">
                        <label for="keycapPrice">–¶–µ–Ω–∞ *</label>
                        <input type="text" id="keycapPrice" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 299,000 UZS">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="keycapMaterial">–ú–∞—Ç–µ—Ä–∏–∞–ª *</label>
                        <select id="keycapMaterial" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª</option>
                            <option value="abs">ABS –ø–ª–∞—Å—Ç–∏–∫</option>
                            <option value="pbt">PBT –ø–ª–∞—Å—Ç–∏–∫</option>
                            <option value="double-shot">Double-shot</option>
                            <option value="diy">DIY –Ω–∞–±–æ—Ä</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="keycapProfile">–ü—Ä–æ—Ñ–∏–ª—å *</label>
                        <select id="keycapProfile" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å</option>
                            <option value="cherry">Cherry</option>
                            <option value="oem">OEM</option>
                            <option value="sa">SA</option>
                            <option value="dsa">DSA</option>
                            <option value="xda">XDA</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="keycapDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="keycapDescription" required placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–µ–π–∫–∞–ø–æ–≤..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
                    <div id="keycapFeaturesContainer">
                        <div class="image-input-wrapper">
                            <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PBT –ø–ª–∞—Å—Ç–∏–∫ –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞">
                            <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <button type="button" class="add-btn" id="addKeycapFeatureBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É
                    </button>
                </div>
                
                <div class="form-group">
                    <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ *</label>
                    <div id="keycapImagesContainer">
                        <div class="image-input-group">
                            <div class="image-input-wrapper">
                                <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                                <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateKeycapPreview()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="add-btn" id="addKeycapImageBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                    </button>
                    <div class="image-preview" id="keycapImagePreview" style="display: none;">
                        <div class="preview-title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ:</div>
                        <div class="preview-images" id="keycapPreviewImages"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="keycapVideo">YouTube –≤–∏–¥–µ–æ (ID –∏–ª–∏ —Å—Å—ã–ª–∫–∞)</label>
                    <input type="text" id="keycapVideo" placeholder="dQw4w9WgXcQ –∏–ª–∏ https://youtu.be/dQw4w9WgXcQ">
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–µ–π–∫–∞–ø—ã
                </button>
            </form>
        </div>
    </div>

    <!-- üìù –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–≤—Ä–∏–∫–∞ -->
    <div class="form-modal" id="addMatModal">
        <div class="form-content">
            <button class="close-form" id="closeMatModal">&times;</button>
            <h2 class="form-title">
                <i class="fas fa-mouse"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–æ–≤—Ä–∏–∫
            </h2>
            <form id="addMatForm">
                <div class="form-group">
                    <label for="matName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–≤—Ä–∏–∫–∞ *</label>
                    <input type="text" id="matName" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≥—Ä–æ–≤–æ–π –∫–æ–≤—Ä–∏–∫ Razer Gigantus V2">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="matBrand">–ë—Ä–µ–Ω–¥ *</label>
                        <input type="text" id="matBrand" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Razer, SteelSeries">
                    </div>
                    <div class="form-group">
                        <label for="matPrice">–¶–µ–Ω–∞ *</label>
                        <input type="text" id="matPrice" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 199,000 UZS">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="matSize">–†–∞–∑–º–µ—Ä *</label>
                        <select id="matSize" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä</option>
                            <option value="small">–ú–∞–ª—ã–π (300x250mm)</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π (450x400mm)</option>
                            <option value="large">–ë–æ–ª—å—à–æ–π (900x400mm)</option>
                            <option value="xxl">XXL (1200x600mm)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="matSurface">–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å *</label>
                        <select id="matSurface" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å</option>
                            <option value="speed">–°–∫–æ—Ä–æ—Å—Ç–Ω–∞—è</option>
                            <option value="control">–ö–æ–Ω—Ç—Ä–æ–ª—å</option>
                            <option value="hybrid">–ì–∏–±—Ä–∏–¥–Ω–∞—è</option>
                            <option value="cloth">–¢–∫–∞–Ω–µ–≤–∞—è</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="matDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="matDescription" required placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–≤—Ä–∏–∫–∞..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
                    <div id="matFeaturesContainer">
                        <div class="image-input-wrapper">
                            <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞–∑–º–µ—Ä: 450x400mm">
                            <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <button type="button" class="add-btn" id="addMatFeatureBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É
                    </button>
                </div>
                
                <div class="form-group">
                    <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ *</label>
                    <div id="matImagesContainer">
                        <div class="image-input-group">
                            <div class="image-input-wrapper">
                                <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                                <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateMatPreview()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="add-btn" id="addMatImageBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                    </button>
                    <div class="image-preview" id="matImagePreview" style="display: none;">
                        <div class="preview-title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ:</div>
                        <div class="preview-images" id="matPreviewImages"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="matVideo">YouTube –≤–∏–¥–µ–æ (ID –∏–ª–∏ —Å—Å—ã–ª–∫–∞)</label>
                    <input type="text" id="matVideo" placeholder="dQw4w9WgXcQ –∏–ª–∏ https://youtu.be/dQw4w9WgXcQ">
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–æ–≤—Ä–∏–∫
                </button>
            </form>
        </div>
    </div>

    <!-- üìù –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
    <div class="form-modal" id="addProductModal">
        <div class="form-content">
            <button class="close-form" id="closeProductModal">&times;</button>
            <h2 class="form-title">
                <i class="fas fa-box"></i> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
            </h2>
            <form id="addProductForm">
                <div class="form-group">
                    <label for="productName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
                    <input type="text" id="productName" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≥—Ä–æ–≤–∞—è –º—ã—à—å Razer DeathAdder">
                </div>
                
                <!-- –í admin.html –≤ —Ñ–æ—Ä–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –æ–±–Ω–æ–≤–∏—Ç–µ –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π: -->
<div class="form-row">
    <div class="form-group">
        <label for="productCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
        <select id="productCategory" required>
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
            <option value="–º—ã—à—å">–ò–≥—Ä–æ–≤–∞—è –º—ã—à—å</option>
            <option value="–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞">–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞</option>
            <option value="–Ω–∞—É—à–Ω–∏–∫–∏">–ù–∞—É—à–Ω–∏–∫–∏</option>
            <option value="–º–æ–Ω–∏—Ç–æ—Ä">–ú–æ–Ω–∏—Ç–æ—Ä</option>
            <option value="–∫—Ä–µ—Å–ª–æ">–ö—Ä–µ—Å–ª–æ</option>
            <option value="–∫–æ–≤—Ä–∏–∫">–ö–æ–≤—Ä–∏–∫</option>
            <option value="keycaps">–ö–µ–π–∫–∞–ø—ã</option>
        </select>
    </div>
    <div class="form-group">
        <label for="productBrand">–ë—Ä–µ–Ω–¥ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
        <input type="text" id="productBrand" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –±—Ä–µ–Ω–¥ –Ω–µ –Ω—É–∂–µ–Ω">
    </div>
</div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="productPrice">–¶–µ–Ω–∞ *</label>
                        <input type="text" id="productPrice" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 799,000 UZS">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="productDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                    <textarea id="productDescription" required placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
                    <div id="productFeaturesContainer">
                        <div class="image-input-wrapper">
                            <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–µ–Ω—Å–æ—Ä 20K DPI">
                            <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <button type="button" class="add-btn" id="addProductFeatureBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É
                    </button>
                </div>
                
                <div class="form-group">
                    <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ *</label>
                    <div id="productImagesContainer">
                        <div class="image-input-group">
                            <div class="image-input-wrapper">
                                <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                                <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateProductPreview()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="add-btn" id="addProductImageBtn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                    </button>
                    <div class="image-preview" id="productImagePreview" style="display: none;">
                        <div class="preview-title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ:</div>
                        <div class="preview-images" id="productPreviewImages"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="productVideo">YouTube –≤–∏–¥–µ–æ (ID –∏–ª–∏ —Å—Å—ã–ª–∫–∞)</label>
                    <input type="text" id="productVideo" placeholder="dQw4w9WgXcQ –∏–ª–∏ https://youtu.be/dQw4w9WgXcQ">
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
                </button>
            </form>
        </div>
    </div>

    <!-- üìù –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="form-modal" id="editModal">
        <div class="form-content">
            <button class="close-form" id="closeEditModal">&times;</button>
            <h2 class="form-title" id="editModalTitle">
                <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </h2>
            <form id="editForm">
                <input type="hidden" id="editProductId">
                <input type="hidden" id="editProductType">
                
                <div id="editFormContent">
                    <!-- –§–æ—Ä–º–∞ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div class="form-actions" style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                    <button type="submit" class="submit-btn" style="flex: 2;">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                    </button>
                    <button type="button" class="action-btn delete" id="deleteProductBtn" style="flex: 1;">
                        <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script type="module">
        // üî• –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º Firebase
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js';
        import { getDatabase, ref, onValue, set, remove, update, push } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js';

        // üéØ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDcyOWAF7TA8h8P36Sk5EbDPzA9sEFuTXo",
            authDomain: "ggpoint-shop.firebaseapp.com",
            databaseURL: "https://ggpoint-shop-default-rtdb.firebaseio.com",
            projectId: "ggpoint-shop",
            storageBucket: "ggpoint-shop.firebasestorage.app",
            messagingSenderId: "182227173652",
            appId: "1:182227173652:web:0949e2edae9900afd98201",
            measurementId: "G-V76H7K3VR4"
        };

        // üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        let products = [];
        let comments = [];
        let editingProductId = null;
        let editingProductType = null;

        // üìä –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function checkAuth() {
            const isAdmin = localStorage.getItem('ggpoint_admin') === 'true';
            
            if (!isAdmin) {
                // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
                window.location.href = 'index.html';
                return false;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            const adminName = localStorage.getItem('ggpoint_admin_name') || '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä';
            document.getElementById('adminWelcome').innerHTML = `
                <i class="fas fa-user-shield"></i> ${adminName} | –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            `;
            
            return true;
        }

        // üö™ –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        function logout() {
            localStorage.removeItem('ggpoint_admin');
            localStorage.removeItem('ggpoint_admin_name');
            window.location.href = 'index.html';
        }

        // üì• –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
        function loadAllData() {
            console.log('üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Firebase...');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã
            const productsRef = ref(database, 'products');
            onValue(productsRef, (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    products = Object.values(data);
                    console.log('‚úÖ –¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', products.length);
                } else {
                    products = [];
                    console.log('üìù –ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤ –ø—É—Å—Ç–∞—è');
                }
                updateStatistics();
                renderKeycapsTable();
                renderMatsTable();
                renderAllProductsTable();
            });

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
            const commentsRef = ref(database, 'comments');
            onValue(commentsRef, (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    comments = Object.values(data);
                    console.log('‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', comments.length);
                } else {
                    comments = [];
                }
                updateStatistics();
                renderCommentsTable();
            });
        }

        // üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStatistics() {
            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
            document.getElementById('totalProducts').textContent = products.length;
            
            // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–µ–π–∫–∞–ø–æ–≤
            const keycapsCount = products.filter(p => 
                p.category === 'keycaps' || 
                p.category === '–∫–µ–π–∫–∞–ø—ã' ||
                p.name.toLowerCase().includes('keycap') ||
                p.name.toLowerCase().includes('–∫–µ–π–∫–∞–ø')
            ).length;
            document.getElementById('keycapsCount').textContent = keycapsCount;
            
            // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–≤—Ä–∏–∫–æ–≤
            const matsCount = products.filter(p => 
                p.category === 'mats' || 
                p.category === '–∫–æ–≤—Ä–∏–∫–∏' ||
                p.category === '–∫–æ–≤—Ä–∏–∫' ||
                p.name.toLowerCase().includes('–∫–æ–≤—Ä–∏–∫') ||
                p.name.toLowerCase().includes('mousepad') ||
                p.name.toLowerCase().includes('mat')
            ).length;
            document.getElementById('matsCount').textContent = matsCount;
            
            // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
            document.getElementById('commentsCount').textContent = comments.length;
        }

        // üé® –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∫–µ–π–∫–∞–ø–æ–≤
        function renderKeycapsTable() {
            const tbody = document.getElementById('keycapsTableBody');
            if (!tbody) return;
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–µ–π–∫–∞–ø—ã
            const keycaps = products.filter(product => 
                product.category === 'keycaps' || 
                product.category === '–∫–µ–π–∫–∞–ø—ã' ||
                product.name.toLowerCase().includes('keycap') ||
                product.name.toLowerCase().includes('–∫–µ–π–∫–∞–ø') ||
                (product.category === '–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞' && 
                 (product.name.toLowerCase().includes('keycap') || 
                  product.name.toLowerCase().includes('caps')))
            );
            
            tbody.innerHTML = '';
            
            if (keycaps.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 2rem; color: var(--text-gray);">
                            <i class="fas fa-keyboard" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                            <p>–ö–µ–π–∫–∞–ø—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            keycaps.forEach(product => {
                const mainImage = product.images && product.images.length > 0 
                    ? product.images[0] 
                    : 'https://via.placeholder.com/60x60?text=–ù–µ—Ç+—Ñ–æ—Ç–æ';
                
                const material = product.material || '–ù–µ —É–∫–∞–∑–∞–Ω';
                const profile = product.profile || '–ù–µ —É–∫–∞–∑–∞–Ω';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <img src="${mainImage}" alt="${product.name}" class="product-image-small"
                             onerror="this.src='https://via.placeholder.com/60x60?text=–û—à–∏–±–∫–∞'">
                    </td>
                    <td style="font-weight: 600; color: var(--text-light);">
                        ${product.name.length > 50 ? product.name.substring(0, 50) + '...' : product.name}
                    </td>
                    <td>${product.brand || '–ù–µ —É–∫–∞–∑–∞–Ω'}</td>
                    <td style="color: var(--accent-teal); font-weight: 600;">${product.price}</td>
                    <td>${getMaterialName(material)}</td>
                    <td>${getProfileName(profile)}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="openEditProductModal(${product.id}, 'keycap')">
                                <i class="fas fa-edit"></i> –ò–∑–º–µ–Ω–∏—Ç—å
                            </button>
                            <button class="table-btn delete" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // üé® –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–≤—Ä–∏–∫–æ–≤
        function renderMatsTable() {
            const tbody = document.getElementById('matsTableBody');
            if (!tbody) return;
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–æ–≤—Ä–∏–∫–∏
            const mats = products.filter(product => 
                product.category === 'mats' || 
                product.category === '–∫–æ–≤—Ä–∏–∫–∏' ||
                product.category === '–∫–æ–≤—Ä–∏–∫' ||
                product.name.toLowerCase().includes('–∫–æ–≤—Ä–∏–∫') ||
                product.name.toLowerCase().includes('mousepad') ||
                product.name.toLowerCase().includes('mat') ||
                product.name.toLowerCase().includes('–ø–æ–¥—Å—Ç–∏–ª–∫–∞')
            );
            
            tbody.innerHTML = '';
            
            if (mats.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 2rem; color: var(--text-gray);">
                            <i class="fas fa-mouse" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                            <p>–ö–æ–≤—Ä–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            mats.forEach(product => {
                const mainImage = product.images && product.images.length > 0 
                    ? product.images[0] 
                    : 'https://via.placeholder.com/60x60?text=–ù–µ—Ç+—Ñ–æ—Ç–æ';
                
                const size = product.size || '–ù–µ —É–∫–∞–∑–∞–Ω';
                const surface = product.surface || '–ù–µ —É–∫–∞–∑–∞–Ω';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <img src="${mainImage}" alt="${product.name}" class="product-image-small"
                             onerror="this.src='https://via.placeholder.com/60x60?text=–û—à–∏–±–∫–∞'">
                    </td>
                    <td style="font-weight: 600; color: var(--text-light);">
                        ${product.name.length > 50 ? product.name.substring(0, 50) + '...' : product.name}
                    </td>
                    <td>${product.brand || '–ù–µ —É–∫–∞–∑–∞–Ω'}</td>
                    <td style="color: var(--accent-teal); font-weight: 600;">${product.price}</td>
                    <td>${getSizeName(size)}</td>
                    <td>${getSurfaceName(surface)}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="openEditProductModal(${product.id}, 'mat')">
                                <i class="fas fa-edit"></i> –ò–∑–º–µ–Ω–∏—Ç—å
                            </button>
                            <button class="table-btn delete" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // üé® –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
        function renderAllProductsTable() {
            const tbody = document.getElementById('allProductsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            if (products.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 2rem; color: var(--text-gray);">
                            <i class="fas fa-box" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                            <p>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞)
            const sortedProducts = [...products].sort((a, b) => {
                const dateA = a.dateAdded ? new Date(a.dateAdded) : new Date(0);
                const dateB = b.dateAdded ? new Date(b.dateAdded) : new Date(0);
                return dateB - dateA;
            });
            
            sortedProducts.forEach(product => {
                const mainImage = product.images && product.images.length > 0 
                    ? product.images[0] 
                    : 'https://via.placeholder.com/60x60?text=–ù–µ—Ç+—Ñ–æ—Ç–æ';
                
                const categoryName = getCategoryName(product.category);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <img src="${mainImage}" alt="${product.name}" class="product-image-small"
                             onerror="this.src='https://via.placeholder.com/60x60?text=–û—à–∏–±–∫–∞'">
                    </td>
                    <td style="font-weight: 600; color: var(--text-light);">
                        ${product.name.length > 50 ? product.name.substring(0, 50) + '...' : product.name}
                    </td>
                    <td>${categoryName}</td>
                    <td>${product.brand || '–ù–µ —É–∫–∞–∑–∞–Ω'}</td>
                    <td style="color: var(--accent-teal); font-weight: 600;">${product.price}</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="openEditProductModal(${product.id}, 'all')">
                                <i class="fas fa-edit"></i> –ò–∑–º–µ–Ω–∏—Ç—å
                            </button>
                            <button class="table-btn delete" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // üé® –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
        function renderCommentsTable() {
            const tbody = document.getElementById('commentsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            if (comments.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 2rem; color: var(--text-gray);">
                            <i class="fas fa-comments" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                            <p>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞)
            const sortedComments = [...comments].sort((a, b) => 
                new Date(b.date) - new Date(a.date)
            );
            
            sortedComments.forEach(comment => {
                const product = products.find(p => p.id == comment.productId);
                const productName = product ? product.name : '–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω';
                const date = new Date(comment.date).toLocaleDateString('ru-RU', {
                    day: 'numeric',
                    month: 'short',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const statusClass = comment.status === 'approved' ? 'status-active' : 
                                  comment.status === 'rejected' ? 'status-inactive' : 'status-warning';
                const statusText = comment.status === 'pending' ? '–û–∂–∏–¥–∞–µ—Ç' : 
                                  comment.status === 'approved' ? '–û–¥–æ–±—Ä–µ–Ω' : '–û—Ç–∫–ª–æ–Ω–µ–Ω';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td style="font-weight: 600; color: var(--text-light);">
                        ${comment.author}
                    </td>
                    <td style="max-width: 300px; word-wrap: break-word;">
                        ${comment.text.length > 100 ? comment.text.substring(0, 100) + '...' : comment.text}
                    </td>
                    <td title="${productName}">
                        ${productName.length > 30 ? productName.substring(0, 30) + '...' : productName}
                    </td>
                    <td>${date}</td>
                    <td>
                        <span class="status-badge ${statusClass}">${statusText}</span>
                    </td>
                    <td>
                        <div class="table-actions">
                            ${comment.status === 'pending' ? `
                            <button class="table-btn edit" onclick="updateCommentStatus('${comment.id}', 'approved')">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="table-btn delete" onclick="updateCommentStatus('${comment.id}', 'rejected')">
                                <i class="fas fa-times"></i>
                            </button>
                            ` : ''}
                            <button class="table-btn delete" onclick="deleteComment('${comment.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // üè∑Ô∏è –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function getMaterialName(materialKey) {
            const materials = {
                'abs': 'ABS –ø–ª–∞—Å—Ç–∏–∫',
                'pbt': 'PBT –ø–ª–∞—Å—Ç–∏–∫',
                'double-shot': 'Double-shot',
                'diy': 'DIY –Ω–∞–±–æ—Ä'
            };
            return materials[materialKey] || materialKey;
        }

        function getProfileName(profileKey) {
            const profiles = {
                'cherry': 'Cherry',
                'oem': 'OEM',
                'sa': 'SA',
                'dsa': 'DSA',
                'xda': 'XDA'
            };
            return profiles[profileKey] || profileKey;
        }

        function getSizeName(sizeKey) {
            const sizes = {
                'small': '–ú–∞–ª—ã–π',
                'medium': '–°—Ä–µ–¥–Ω–∏–π',
                'large': '–ë–æ–ª—å—à–æ–π',
                'xxl': 'XXL'
            };
            return sizes[sizeKey] || sizeKey;
        }

        function getSurfaceName(surfaceKey) {
            const surfaces = {
                'speed': '–°–∫–æ—Ä–æ—Å—Ç–Ω–∞—è',
                'control': '–ö–æ–Ω—Ç—Ä–æ–ª—å',
                'hybrid': '–ì–∏–±—Ä–∏–¥–Ω–∞—è',
                'cloth': '–¢–∫–∞–Ω–µ–≤–∞—è'
            };
            return surfaces[surfaceKey] || surfaceKey;
        }

        function getCategoryName(categoryKey) {
            const categories = {
                '–º—ã—à—å': '–ò–≥—Ä–æ–≤–∞—è –º—ã—à—å',
                '–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞': '–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞',
                '–Ω–∞—É—à–Ω–∏–∫–∏': '–ù–∞—É—à–Ω–∏–∫–∏',
                '–º–æ–Ω–∏—Ç–æ—Ä': '–ú–æ–Ω–∏—Ç–æ—Ä',
                '–∫—Ä–µ—Å–ª–æ': '–ö—Ä–µ—Å–ª–æ',
                '–∫–æ–≤—Ä–∏–∫': '–ö–æ–≤—Ä–∏–∫',
                'keycaps': '–ö–µ–π–∫–∞–ø—ã',
                '–∫–µ–π–∫–∞–ø—ã': '–ö–µ–π–∫–∞–ø—ã',
                'mats': '–ö–æ–≤—Ä–∏–∫–∏'
            };
            return categories[categoryKey] || categoryKey;
        }

        // üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ Firebase
        async function saveProduct(product) {
            try {
                const productRef = ref(database, 'products/' + product.id);
                await set(productRef, product);
                console.log('‚úÖ –¢–æ–≤–∞—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Firebase');
                return true;
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
                return false;
            }
        }

        // üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ Firebase
        async function updateProduct(productId, updates) {
            try {
                const productRef = ref(database, 'products/' + productId);
                await update(productRef, updates);
                console.log('‚úÖ –¢–æ–≤–∞—Ä –æ–±–Ω–æ–≤–ª–µ–Ω –≤ Firebase');
                return true;
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', error);
                return false;
            }
        }

        // üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ Firebase
        async function deleteProductFromFirebase(productId) {
            try {
                const productRef = ref(database, 'products/' + productId);
                await remove(productRef);
                console.log('‚úÖ –¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ Firebase');
                return true;
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è:', error);
                return false;
            }
        }

        // üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        async function updateCommentStatus(commentId, status) {
            try {
                const commentRef = ref(database, 'comments/' + commentId);
                await update(commentRef, { status: status });
                console.log(`‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞: ${status}`);
                showNotification('–°—Ç–∞—Ç—É—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω', 'success');
                return true;
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞', 'error');
                return false;
            }
        }

        // üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        async function deleteCommentFromFirebase(commentId) {
            try {
                const commentRef = ref(database, 'comments/' + commentId);
                await remove(commentRef);
                console.log('‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª–µ–Ω');
                return true;
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:', error);
                return false;
            }
        }

        // ‚ú® –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            if (!checkAuth()) {
                return;
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            loadAllData();
            
            // üö™ –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
            document.getElementById('logoutBtn').addEventListener('click', logout);
            
            // üîÑ –ö–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            document.getElementById('refreshKeycapsBtn').addEventListener('click', () => {
                renderKeycapsTable();
                showNotification('–¢–∞–±–ª–∏—Ü–∞ –∫–µ–π–∫–∞–ø–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∞', 'info');
            });
            
            document.getElementById('refreshMatsBtn').addEventListener('click', () => {
                renderMatsTable();
                showNotification('–¢–∞–±–ª–∏—Ü–∞ –∫–æ–≤—Ä–∏–∫–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∞', 'info');
            });
            
            document.getElementById('refreshAllBtn').addEventListener('click', () => {
                loadAllData();
                showNotification('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã', 'info');
            });
            
            document.getElementById('refreshCommentsBtn').addEventListener('click', () => {
                renderCommentsTable();
                showNotification('–¢–∞–±–ª–∏—Ü–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∞', 'info');
            });
            
            // üìù –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ - –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ
            // –ö–µ–π–∫–∞–ø—ã
            document.getElementById('addKeycapBtn').addEventListener('click', () => {
                document.getElementById('addKeycapModal').style.display = 'block';
            });
            
            document.getElementById('closeKeycapModal').addEventListener('click', () => {
                document.getElementById('addKeycapModal').style.display = 'none';
            });
            
            // –ö–æ–≤—Ä–∏–∫–∏
            document.getElementById('addMatBtn').addEventListener('click', () => {
                document.getElementById('addMatModal').style.display = 'block';
            });
            
            document.getElementById('closeMatModal').addEventListener('click', () => {
                document.getElementById('addMatModal').style.display = 'none';
            });
            
            // –¢–æ–≤–∞—Ä—ã
            document.getElementById('addProductBtn').addEventListener('click', () => {
                document.getElementById('addProductModal').style.display = 'block';
            });
            
            document.getElementById('closeProductModal').addEventListener('click', () => {
                document.getElementById('addProductModal').style.display = 'none';
            });
            
            // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
            document.getElementById('closeEditModal').addEventListener('click', () => {
                document.getElementById('editModal').style.display = 'none';
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
            window.addEventListener('click', (e) => {
                const modals = [
                    'addKeycapModal',
                    'addMatModal',
                    'addProductModal',
                    'editModal'
                ];
                
                modals.forEach(modalId => {
                    const modal = document.getElementById(modalId);
                    if (e.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            });
            
            // ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∏ —Ñ–æ—Ç–æ
            // –ö–µ–π–∫–∞–ø—ã
            document.getElementById('addKeycapFeatureBtn').addEventListener('click', function() {
                const container = document.getElementById('keycapFeaturesContainer');
                const wrapper = document.createElement('div');
                wrapper.className = 'image-input-wrapper';
                wrapper.innerHTML = `
                    <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PBT –ø–ª–∞—Å—Ç–∏–∫ –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞">
                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                container.appendChild(wrapper);
            });
            
            document.getElementById('addKeycapImageBtn').addEventListener('click', function() {
                const container = document.getElementById('keycapImagesContainer');
                const group = document.createElement('div');
                group.className = 'image-input-group';
                group.innerHTML = `
                    <div class="image-input-wrapper">
                        <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateKeycapPreview()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                container.appendChild(group);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
                const input = group.querySelector('.image-url-input');
                input.addEventListener('input', updateKeycapPreview);
            });
            
            // –ö–æ–≤—Ä–∏–∫–∏
            document.getElementById('addMatFeatureBtn').addEventListener('click', function() {
                const container = document.getElementById('matFeaturesContainer');
                const wrapper = document.createElement('div');
                wrapper.className = 'image-input-wrapper';
                wrapper.innerHTML = `
                    <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞–∑–º–µ—Ä: 450x400mm">
                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                container.appendChild(wrapper);
            });
            
            document.getElementById('addMatImageBtn').addEventListener('click', function() {
                const container = document.getElementById('matImagesContainer');
                const group = document.createElement('div');
                group.className = 'image-input-group';
                group.innerHTML = `
                    <div class="image-input-wrapper">
                        <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateMatPreview()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                container.appendChild(group);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
                const input = group.querySelector('.image-url-input');
                input.addEventListener('input', updateMatPreview);
            });
            
            // –¢–æ–≤–∞—Ä—ã
            document.getElementById('addProductFeatureBtn').addEventListener('click', function() {
                const container = document.getElementById('productFeaturesContainer');
                const wrapper = document.createElement('div');
                wrapper.className = 'image-input-wrapper';
                wrapper.innerHTML = `
                    <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–µ–Ω—Å–æ—Ä 20K DPI">
                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                container.appendChild(wrapper);
            });
            
            document.getElementById('addProductImageBtn').addEventListener('click', function() {
                const container = document.getElementById('productImagesContainer');
                const group = document.createElement('div');
                group.className = 'image-input-group';
                group.innerHTML = `
                    <div class="image-input-wrapper">
                        <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateProductPreview()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                container.appendChild(group);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
                const input = group.querySelector('.image-url-input');
                input.addEventListener('input', updateProductPreview);
            });
            
            // üìù –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–µ–π–∫–∞–ø–æ–≤
            document.getElementById('addKeycapForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const name = document.getElementById('keycapName').value.trim();
                const brand = document.getElementById('keycapBrand').value.trim();
                const price = document.getElementById('keycapPrice').value.trim();
                const material = document.getElementById('keycapMaterial').value;
                const profile = document.getElementById('keycapProfile').value;
                const description = document.getElementById('keycapDescription').value.trim();
                const video = document.getElementById('keycapVideo').value.trim();
                
                // –°–æ–±–∏—Ä–∞–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
                const features = Array.from(document.querySelectorAll('#keycapFeaturesContainer .feature-input'))
                    .map(input => input.value.trim())
                    .filter(value => value !== '');
                
                // –°–æ–±–∏—Ä–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const imageUrls = Array.from(document.querySelectorAll('#keycapImagesContainer .image-url-input'))
                    .map(input => input.value.trim())
                    .filter(value => value !== '');
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                if (!name || !brand || !price || !material || !profile || !description || imageUrls.length === 0) {
                    showNotification('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!', 'error');
                    return;
                }
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID
                const maxId = products.length > 0 ? Math.max(...products.map(p => p.id)) : 0;
                const newId = maxId + 1;
                
                // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Ç–æ–≤–∞—Ä–∞
                const newProduct = {
                    id: newId,
                    name,
                    category: 'keycaps',
                    brand,
                    price,
                    material,
                    profile,
                    images: imageUrls,
                    description,
                    features,
                    video: video || '',
                    dateAdded: new Date().toISOString()
                };
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä –≤ Firebase
                const saveSuccess = await saveProduct(newProduct);
                
                if (saveSuccess) {
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                    document.getElementById('addKeycapForm').reset();
                    document.getElementById('keycapImagePreview').style.display = 'none';
                    document.getElementById('keycapPreviewImages').innerHTML = '';
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
                    document.getElementById('addKeycapModal').style.display = 'none';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification('‚úÖ –ö–µ–π–∫–∞–ø—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É
                    renderKeycapsTable();
                    updateStatistics();
                } else {
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–µ–π–∫–∞–ø–æ–≤', 'error');
                }
            });
            
            // üìù –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–≤—Ä–∏–∫–∞
            document.getElementById('addMatForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const name = document.getElementById('matName').value.trim();
                const brand = document.getElementById('matBrand').value.trim();
                const price = document.getElementById('matPrice').value.trim();
                const size = document.getElementById('matSize').value;
                const surface = document.getElementById('matSurface').value;
                const description = document.getElementById('matDescription').value.trim();
                const video = document.getElementById('matVideo').value.trim();
                
                // –°–æ–±–∏—Ä–∞–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
                const features = Array.from(document.querySelectorAll('#matFeaturesContainer .feature-input'))
                    .map(input => input.value.trim())
                    .filter(value => value !== '');
                
                // –°–æ–±–∏—Ä–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const imageUrls = Array.from(document.querySelectorAll('#matImagesContainer .image-url-input'))
                    .map(input => input.value.trim())
                    .filter(value => value !== '');
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                if (!name || !brand || !price || !size || !surface || !description || imageUrls.length === 0) {
                    showNotification('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!', 'error');
                    return;
                }
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID
                const maxId = products.length > 0 ? Math.max(...products.map(p => p.id)) : 0;
                const newId = maxId + 1;
                
                // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Ç–æ–≤–∞—Ä–∞
                const newProduct = {
                    id: newId,
                    name,
                    category: 'mats',
                    brand,
                    price,
                    size,
                    surface,
                    images: imageUrls,
                    description,
                    features,
                    video: video || '',
                    dateAdded: new Date().toISOString()
                };
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä –≤ Firebase
                const saveSuccess = await saveProduct(newProduct);
                
                if (saveSuccess) {
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                    document.getElementById('addMatForm').reset();
                    document.getElementById('matImagePreview').style.display = 'none';
                    document.getElementById('matPreviewImages').innerHTML = '';
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
                    document.getElementById('addMatModal').style.display = 'none';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification('‚úÖ –ö–æ–≤—Ä–∏–∫ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É
                    renderMatsTable();
                    updateStatistics();
                } else {
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–≤—Ä–∏–∫–∞', 'error');
                }
            });
            
            // üìù –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
            document.getElementById('addProductForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const name = document.getElementById('productName').value.trim();
                const category = document.getElementById('productCategory').value;
                const brand = document.getElementById('productBrand').value.trim();
                const price = document.getElementById('productPrice').value.trim();
                const description = document.getElementById('productDescription').value.trim();
                const video = document.getElementById('productVideo').value.trim();
                
                // –°–æ–±–∏—Ä–∞–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
                const features = Array.from(document.querySelectorAll('#productFeaturesContainer .feature-input'))
                    .map(input => input.value.trim())
                    .filter(value => value !== '');
                
                // –°–æ–±–∏—Ä–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const imageUrls = Array.from(document.querySelectorAll('#productImagesContainer .image-url-input'))
                    .map(input => input.value.trim())
                    .filter(value => value !== '');
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                if (!name || !category || !brand || !price || !description || imageUrls.length === 0) {
                    showNotification('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!', 'error');
                    return;
                }
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID
                const maxId = products.length > 0 ? Math.max(...products.map(p => p.id)) : 0;
                const newId = maxId + 1;
                
                // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Ç–æ–≤–∞—Ä–∞
                const newProduct = {
                    id: newId,
                    name,
                    category,
                    brand,
                    price,
                    images: imageUrls,
                    description,
                    features,
                    video: video || '',
                    dateAdded: new Date().toISOString()
                };
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä –≤ Firebase
                const saveSuccess = await saveProduct(newProduct);
                
                if (saveSuccess) {
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                    document.getElementById('addProductForm').reset();
                    document.getElementById('productImagePreview').style.display = 'none';
                    document.getElementById('productPreviewImages').innerHTML = '';
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
                    document.getElementById('addProductModal').style.display = 'none';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification('‚úÖ –¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É
                    renderAllProductsTable();
                    updateStatistics();
                } else {
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
                }
            });
            
            // üìù –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            document.getElementById('editForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const productId = document.getElementById('editProductId').value;
                const productType = document.getElementById('editProductType').value;
                
                let updates = {};
                
                if (productType === 'keycap') {
                    updates = {
                        name: document.getElementById('editKeycapName').value.trim(),
                        brand: document.getElementById('editKeycapBrand').value.trim(),
                        price: document.getElementById('editKeycapPrice').value.trim(),
                        material: document.getElementById('editKeycapMaterial').value,
                        profile: document.getElementById('editKeycapProfile').value,
                        description: document.getElementById('editKeycapDescription').value.trim(),
                        video: document.getElementById('editKeycapVideo').value.trim(),
                        features: Array.from(document.querySelectorAll('#editKeycapFeaturesContainer .feature-input'))
                            .map(input => input.value.trim())
                            .filter(value => value !== ''),
                        images: Array.from(document.querySelectorAll('#editKeycapImagesContainer .image-url-input'))
                            .map(input => input.value.trim())
                            .filter(value => value !== ''),
                        lastUpdated: new Date().toISOString()
                    };
                } else if (productType === 'mat') {
                    updates = {
                        name: document.getElementById('editMatName').value.trim(),
                        brand: document.getElementById('editMatBrand').value.trim(),
                        price: document.getElementById('editMatPrice').value.trim(),
                        size: document.getElementById('editMatSize').value,
                        surface: document.getElementById('editMatSurface').value,
                        description: document.getElementById('editMatDescription').value.trim(),
                        video: document.getElementById('editMatVideo').value.trim(),
                        features: Array.from(document.querySelectorAll('#editMatFeaturesContainer .feature-input'))
                            .map(input => input.value.trim())
                            .filter(value => value !== ''),
                        images: Array.from(document.querySelectorAll('#editMatImagesContainer .image-url-input'))
                            .map(input => input.value.trim())
                            .filter(value => value !== ''),
                        lastUpdated: new Date().toISOString()
                    };
                } else {
                    updates = {
                        name: document.getElementById('editProductName').value.trim(),
                        category: document.getElementById('editProductCategory').value,
                        brand: document.getElementById('editProductBrand').value.trim(),
                        price: document.getElementById('editProductPrice').value.trim(),
                        description: document.getElementById('editProductDescription').value.trim(),
                        video: document.getElementById('editProductVideo').value.trim(),
                        features: Array.from(document.querySelectorAll('#editProductFeaturesContainer .feature-input'))
                            .map(input => input.value.trim())
                            .filter(value => value !== ''),
                        images: Array.from(document.querySelectorAll('#editProductImagesContainer .image-url-input'))
                            .map(input => input.value.trim())
                            .filter(value => value !== ''),
                        lastUpdated: new Date().toISOString()
                    };
                }
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                const hasEmptyFields = Object.values(updates).some(value => 
                    (typeof value === 'string' && value.trim() === '') ||
                    (Array.isArray(value) && value.length === 0)
                );
                
                if (hasEmptyFields) {
                    showNotification('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!', 'error');
                    return;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä –≤ Firebase
                const updateSuccess = await updateProduct(productId, updates);
                
                if (updateSuccess) {
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
                    document.getElementById('editModal').style.display = 'none';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification('‚úÖ –¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—ã
                    loadAllData();
                } else {
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
                }
            });
            
            // üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
            document.getElementById('deleteProductBtn').addEventListener('click', async function() {
                const productId = document.getElementById('editProductId').value;
                
                if (!confirm('‚ùå –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?')) {
                    return;
                }
                
                const deleteSuccess = await deleteProductFromFirebase(productId);
                
                if (deleteSuccess) {
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
                    document.getElementById('editModal').style.display = 'none';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification('‚úÖ –¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—ã
                    loadAllData();
                } else {
                    showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
                }
            });
            
            console.log('üöÄ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
        });
    </script>

    <script>
        // üñºÔ∏è –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        function updateKeycapPreview() {
            const inputs = document.querySelectorAll('#keycapImagesContainer .image-url-input');
            const preview = document.getElementById('keycapImagePreview');
            const previewContainer = document.getElementById('keycapPreviewImages');
            
            previewContainer.innerHTML = '';
            
            let hasValidImages = false;
            
            inputs.forEach((input, index) => {
                const url = input.value.trim();
                if (url && (url.startsWith('http://') || url.startsWith('https://'))) {
                    hasValidImages = true;
                    
                    const img = document.createElement('img');
                    img.className = 'preview-img';
                    img.src = url;
                    img.alt = `–§–æ—Ç–æ ${index + 1}`;
                    img.onerror = function() {
                        this.src = 'https://via.placeholder.com/80x80?text=–û—à–∏–±–∫–∞';
                    };
                    previewContainer.appendChild(img);
                }
            });
            
            preview.style.display = hasValidImages ? 'block' : 'none';
        }
        
        function updateMatPreview() {
            const inputs = document.querySelectorAll('#matImagesContainer .image-url-input');
            const preview = document.getElementById('matImagePreview');
            const previewContainer = document.getElementById('matPreviewImages');
            
            previewContainer.innerHTML = '';
            
            let hasValidImages = false;
            
            inputs.forEach((input, index) => {
                const url = input.value.trim();
                if (url && (url.startsWith('http://') || url.startsWith('https://'))) {
                    hasValidImages = true;
                    
                    const img = document.createElement('img');
                    img.className = 'preview-img';
                    img.src = url;
                    img.alt = `–§–æ—Ç–æ ${index + 1}`;
                    img.onerror = function() {
                        this.src = 'https://via.placeholder.com/80x80?text=–û—à–∏–±–∫–∞';
                    };
                    previewContainer.appendChild(img);
                }
            });
            
            preview.style.display = hasValidImages ? 'block' : 'none';
        }
        
        function updateProductPreview() {
            const inputs = document.querySelectorAll('#productImagesContainer .image-url-input');
            const preview = document.getElementById('productImagePreview');
            const previewContainer = document.getElementById('productPreviewImages');
            
            previewContainer.innerHTML = '';
            
            let hasValidImages = false;
            
            inputs.forEach((input, index) => {
                const url = input.value.trim();
                if (url && (url.startsWith('http://') || url.startsWith('https://'))) {
                    hasValidImages = true;
                    
                    const img = document.createElement('img');
                    img.className = 'preview-img';
                    img.src = url;
                    img.alt = `–§–æ—Ç–æ ${index + 1}`;
                    img.onerror = function() {
                        this.src = 'https://via.placeholder.com/80x80?text=–û—à–∏–±–∫–∞';
                    };
                    previewContainer.appendChild(img);
                }
            });
            
            preview.style.display = hasValidImages ? 'block' : 'none';
        }
        
        // üìù –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        window.openEditProductModal = function(productId, type) {
            const product = products.find(p => p.id == productId);
            if (!product) return;
            
            editingProductId = productId;
            editingProductType = type;
            
            document.getElementById('editProductId').value = productId;
            document.getElementById('editProductType').value = type;
            
            let formHtml = '';
            
            if (type === 'keycap') {
                document.getElementById('editModalTitle').innerHTML = '<i class="fas fa-keyboard"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–µ–π–∫–∞–ø—ã';
                
                formHtml = `
                    <div class="form-group">
                        <label for="editKeycapName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–µ–π–∫–∞–ø–æ–≤ *</label>
                        <input type="text" id="editKeycapName" value="${product.name}" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editKeycapBrand">–ë—Ä–µ–Ω–¥ *</label>
                            <input type="text" id="editKeycapBrand" value="${product.brand || ''}" required>
                        </div>
                        <div class="form-group">
                            <label for="editKeycapPrice">–¶–µ–Ω–∞ *</label>
                            <input type="text" id="editKeycapPrice" value="${product.price}" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editKeycapMaterial">–ú–∞—Ç–µ—Ä–∏–∞–ª *</label>
                            <select id="editKeycapMaterial" required>
                                <option value="abs" ${product.material === 'abs' ? 'selected' : ''}>ABS –ø–ª–∞—Å—Ç–∏–∫</option>
                                <option value="pbt" ${product.material === 'pbt' ? 'selected' : ''}>PBT –ø–ª–∞—Å—Ç–∏–∫</option>
                                <option value="double-shot" ${product.material === 'double-shot' ? 'selected' : ''}>Double-shot</option>
                                <option value="diy" ${product.material === 'diy' ? 'selected' : ''}>DIY –Ω–∞–±–æ—Ä</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editKeycapProfile">–ü—Ä–æ—Ñ–∏–ª—å *</label>
                            <select id="editKeycapProfile" required>
                                <option value="cherry" ${product.profile === 'cherry' ? 'selected' : ''}>Cherry</option>
                                <option value="oem" ${product.profile === 'oem' ? 'selected' : ''}>OEM</option>
                                <option value="sa" ${product.profile === 'sa' ? 'selected' : ''}>SA</option>
                                <option value="dsa" ${product.profile === 'dsa' ? 'selected' : ''}>DSA</option>
                                <option value="xda" ${product.profile === 'xda' ? 'selected' : ''}>XDA</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editKeycapDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="editKeycapDescription" required>${product.description}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
                        <div id="editKeycapFeaturesContainer">
                            ${product.features && product.features.length > 0 ? product.features.map(feature => `
                                <div class="image-input-wrapper">
                                    <input type="text" class="feature-input" value="${feature}">
                                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `).join('') : `
                                <div class="image-input-wrapper">
                                    <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PBT –ø–ª–∞—Å—Ç–∏–∫ –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞">
                                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `}
                        </div>
                        <button type="button" class="add-btn" onclick="addEditKeycapFeature()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ *</label>
                        <div id="editKeycapImagesContainer">
                            ${product.images && product.images.length > 0 ? product.images.map((image, index) => `
                                <div class="image-input-group">
                                    <div class="image-input-wrapper">
                                        <input type="text" class="image-url-input" value="${image}" required>
                                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditKeycapPreview()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            `).join('') : `
                                <div class="image-input-group">
                                    <div class="image-input-wrapper">
                                        <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditKeycapPreview()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            `}
                        </div>
                        <button type="button" class="add-btn" onclick="addEditKeycapImage()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label for="editKeycapVideo">YouTube –≤–∏–¥–µ–æ (ID –∏–ª–∏ —Å—Å—ã–ª–∫–∞)</label>
                        <input type="text" id="editKeycapVideo" value="${product.video || ''}">
                    </div>
                `;
            } else if (type === 'mat') {
                document.getElementById('editModalTitle').innerHTML = '<i class="fas fa-mouse"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–≤—Ä–∏–∫';
                
                formHtml = `
                    <div class="form-group">
                        <label for="editMatName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–≤—Ä–∏–∫–∞ *</label>
                        <input type="text" id="editMatName" value="${product.name}" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editMatBrand">–ë—Ä–µ–Ω–¥ *</label>
                            <input type="text" id="editMatBrand" value="${product.brand || ''}" required>
                        </div>
                        <div class="form-group">
                            <label for="editMatPrice">–¶–µ–Ω–∞ *</label>
                            <input type="text" id="editMatPrice" value="${product.price}" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editMatSize">–†–∞–∑–º–µ—Ä *</label>
                            <select id="editMatSize" required>
                                <option value="small" ${product.size === 'small' ? 'selected' : ''}>–ú–∞–ª—ã–π (300x250mm)</option>
                                <option value="medium" ${product.size === 'medium' ? 'selected' : ''}>–°—Ä–µ–¥–Ω–∏–π (450x400mm)</option>
                                <option value="large" ${product.size === 'large' ? 'selected' : ''}>–ë–æ–ª—å—à–æ–π (900x400mm)</option>
                                <option value="xxl" ${product.size === 'xxl' ? 'selected' : ''}>XXL (1200x600mm)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editMatSurface">–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å *</label>
                            <select id="editMatSurface" required>
                                <option value="speed" ${product.surface === 'speed' ? 'selected' : ''}>–°–∫–æ—Ä–æ—Å—Ç–Ω–∞—è</option>
                                <option value="control" ${product.surface === 'control' ? 'selected' : ''}>–ö–æ–Ω—Ç—Ä–æ–ª—å</option>
                                <option value="hybrid" ${product.surface === 'hybrid' ? 'selected' : ''}>–ì–∏–±—Ä–∏–¥–Ω–∞—è</option>
                                <option value="cloth" ${product.surface === 'cloth' ? 'selected' : ''}>–¢–∫–∞–Ω–µ–≤–∞—è</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editMatDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="editMatDescription" required>${product.description}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
                        <div id="editMatFeaturesContainer">
                            ${product.features && product.features.length > 0 ? product.features.map(feature => `
                                <div class="image-input-wrapper">
                                    <input type="text" class="feature-input" value="${feature}">
                                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `).join('') : `
                                <div class="image-input-wrapper">
                                    <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞–∑–º–µ—Ä: 450x400mm">
                                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `}
                        </div>
                        <button type="button" class="add-btn" onclick="addEditMatFeature()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ *</label>
                        <div id="editMatImagesContainer">
                            ${product.images && product.images.length > 0 ? product.images.map((image, index) => `
                                <div class="image-input-group">
                                    <div class="image-input-wrapper">
                                        <input type="text" class="image-url-input" value="${image}" required>
                                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditMatPreview()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            `).join('') : `
                                <div class="image-input-group">
                                    <div class="image-input-wrapper">
                                        <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditMatPreview()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            `}
                        </div>
                        <button type="button" class="add-btn" onclick="addEditMatImage()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label for="editMatVideo">YouTube –≤–∏–¥–µ–æ (ID –∏–ª–∏ —Å—Å—ã–ª–∫–∞)</label>
                        <input type="text" id="editMatVideo" value="${product.video || ''}">
                    </div>
                `;
            } else {
                document.getElementById('editModalTitle').innerHTML = '<i class="fas fa-box"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä';
                
                formHtml = `
                    <div class="form-group">
                        <label for="editProductName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
                        <input type="text" id="editProductName" value="${product.name}" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editProductCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                            <select id="editProductCategory" required>
                                <option value="–º—ã—à—å" ${product.category === '–º—ã—à—å' ? 'selected' : ''}>–ò–≥—Ä–æ–≤–∞—è –º—ã—à—å</option>
                                <option value="–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞" ${product.category === '–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞' ? 'selected' : ''}>–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞</option>
                                <option value="–Ω–∞—É—à–Ω–∏–∫–∏" ${product.category === '–Ω–∞—É—à–Ω–∏–∫–∏' ? 'selected' : ''}>–ù–∞—É—à–Ω–∏–∫–∏</option>
                                <option value="–º–æ–Ω–∏—Ç–æ—Ä" ${product.category === '–º–æ–Ω–∏—Ç–æ—Ä' ? 'selected' : ''}>–ú–æ–Ω–∏—Ç–æ—Ä</option>
                                <option value="–∫—Ä–µ—Å–ª–æ" ${product.category === '–∫—Ä–µ—Å–ª–æ' ? 'selected' : ''}>–ö—Ä–µ—Å–ª–æ</option>
                                <option value="–∫–æ–≤—Ä–∏–∫" ${product.category === '–∫–æ–≤—Ä–∏–∫' ? 'selected' : ''}>–ö–æ–≤—Ä–∏–∫</option>
                                <option value="keycaps" ${product.category === 'keycaps' ? 'selected' : ''}>–ö–µ–π–∫–∞–ø—ã</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editProductBrand">–ë—Ä–µ–Ω–¥ *</label>
                            <input type="text" id="editProductBrand" value="${product.brand || ''}" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editProductPrice">–¶–µ–Ω–∞ *</label>
                            <input type="text" id="editProductPrice" value="${product.price}" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editProductDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="editProductDescription" required>${product.description}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
                        <div id="editProductFeaturesContainer">
                            ${product.features && product.features.length > 0 ? product.features.map(feature => `
                                <div class="image-input-wrapper">
                                    <input type="text" class="feature-input" value="${feature}">
                                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `).join('') : `
                                <div class="image-input-wrapper">
                                    <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–µ–Ω—Å–æ—Ä 20K DPI">
                                    <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            `}
                        </div>
                        <button type="button" class="add-btn" onclick="addEditProductFeature()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ *</label>
                        <div id="editProductImagesContainer">
                            ${product.images && product.images.length > 0 ? product.images.map((image, index) => `
                                <div class="image-input-group">
                                    <div class="image-input-wrapper">
                                        <input type="text" class="image-url-input" value="${image}" required>
                                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditProductPreview()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            `).join('') : `
                                <div class="image-input-group">
                                    <div class="image-input-wrapper">
                                        <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                                        <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditProductPreview()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            `}
                        </div>
                        <button type="button" class="add-btn" onclick="addEditProductImage()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label for="editProductVideo">YouTube –≤–∏–¥–µ–æ (ID –∏–ª–∏ —Å—Å—ã–ª–∫–∞)</label>
                        <input type="text" id="editProductVideo" value="${product.video || ''}">
                    </div>
                `;
            }
            
            document.getElementById('editFormContent').innerHTML = formHtml;
            document.getElementById('editModal').style.display = 'block';
        };
        
        // ‚ûï –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ–π –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
        function addEditKeycapFeature() {
            const container = document.getElementById('editKeycapFeaturesContainer');
            const wrapper = document.createElement('div');
            wrapper.className = 'image-input-wrapper';
            wrapper.innerHTML = `
                <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PBT –ø–ª–∞—Å—Ç–∏–∫ –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞">
                <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            container.appendChild(wrapper);
        }
        
        function addEditKeycapImage() {
            const container = document.getElementById('editKeycapImagesContainer');
            const group = document.createElement('div');
            group.className = 'image-input-group';
            group.innerHTML = `
                <div class="image-input-wrapper">
                    <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                    <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditKeycapPreview()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            container.appendChild(group);
        }
        
        function addEditMatFeature() {
            const container = document.getElementById('editMatFeaturesContainer');
            const wrapper = document.createElement('div');
            wrapper.className = 'image-input-wrapper';
            wrapper.innerHTML = `
                <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞–∑–º–µ—Ä: 450x400mm">
                <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            container.appendChild(wrapper);
        }
        
        function addEditMatImage() {
            const container = document.getElementById('editMatImagesContainer');
            const group = document.createElement('div');
            group.className = 'image-input-group';
            group.innerHTML = `
                <div class="image-input-wrapper">
                    <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                    <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditMatPreview()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            container.appendChild(group);
        }
        
        function addEditProductFeature() {
            const container = document.getElementById('editProductFeaturesContainer');
            const wrapper = document.createElement('div');
            wrapper.className = 'image-input-wrapper';
            wrapper.innerHTML = `
                <input type="text" class="feature-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–µ–Ω—Å–æ—Ä 20K DPI">
                <button type="button" class="remove-btn" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            container.appendChild(wrapper);
        }
        
        function addEditProductImage() {
            const container = document.getElementById('editProductImagesContainer');
            const group = document.createElement('div');
            group.className = 'image-input-group';
            group.innerHTML = `
                <div class="image-input-wrapper">
                    <input type="text" class="image-url-input" required placeholder="https://example.com/photo1.jpg">
                    <button type="button" class="remove-btn" onclick="this.parentElement.parentElement.remove(); updateEditProductPreview()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            container.appendChild(group);
        }
        
        // üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        window.deleteProduct = async function(productId) {
            if (!confirm('‚ùå –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?')) {
                return;
            }
            
            const deleteSuccess = await fetch(`/api/delete-product/${productId}`, {
                method: 'DELETE'
            }).then(res => res.ok).catch(() => false);
            
            if (deleteSuccess) {
                showNotification('‚úÖ –¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                loadAllData();
            } else {
                showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
            }
        };
        
        // üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        window.updateCommentStatus = async function(commentId, status) {
            const updateSuccess = await fetch(`/api/update-comment/${commentId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ status })
            }).then(res => res.ok).catch(() => false);
            
            if (updateSuccess) {
                showNotification('–°—Ç–∞—Ç—É—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω', 'success');
                renderCommentsTable();
            } else {
                showNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞', 'error');
            }
        };
        
        // üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        window.deleteComment = async function(commentId) {
            if (!confirm('‚ùå –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?')) {
                return;
            }
            
            const deleteSuccess = await fetch(`/api/delete-comment/${commentId}`, {
                method: 'DELETE'
            }).then(res => res.ok).catch(() => false);
            
            if (deleteSuccess) {
                showNotification('–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª–µ–Ω', 'success');
                renderCommentsTable();
            } else {
                showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è', 'error');
            }
        };
    </script>
</body>
</html>
