<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кейкапы - GG Point</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        :root {
            --primary-blue: #2563eb; --accent-purple: #8b5cf6; --dark-bg: #0f172a;
            --card-bg: #1e293b; --text-light: #f8fafc; --text-gray: #cbd5e1;
        }
        body { background-color: var(--dark-bg); color: var(--text-light); min-height: 100vh; }
        header { background: rgba(30, 41, 59, 0.95); padding: 1rem 2rem; position: fixed; width: 100%; top: 0; z-index: 1000; }
        .header-container { display: flex; justify-content: space-between; align-items: center; max-width: 1400px; margin: 0 auto; }
        .logo { font-size: 2.2rem; font-weight: bold; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; cursor: pointer; }
        .back-btn { background: transparent; border: 2px solid var(--accent-purple); color: var(--accent-purple); padding: 0.7rem 1.5rem; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; }
        .back-btn:hover { background: var(--accent-purple); color: var(--text-light); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3); }
        .hero-section { padding: 120px 2rem 3rem; text-align: center; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%); border-radius: 0 0 30px 30px; margin-bottom: 3rem; }
        .hero-section h1 { font-size: 3.5rem; margin-bottom: 1rem; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .keycaps-grid { max-width: 1400px; margin: 0 auto; padding: 0 2rem 4rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; }
        .keycap-card { background: var(--card-bg); border-radius: 20px; overflow: hidden; transition: all 0.4s ease; border: 2px solid transparent; cursor: pointer; }
        .keycap-card:hover { transform: translateY(-10px); border-color: var(--accent-purple); box-shadow: 0 20px 50px rgba(139, 92, 246, 0.2); }
        .keycap-image { width: 100%; height: 250px; object-fit: contain; background: var(--dark-bg); padding: 1rem; transition: transform 0.5s ease; }
        .keycap-info { padding: 1.5rem; }
        .keycap-title { font-size: 1.3rem; margin-bottom: 0.5rem; color: var(--text-light); }
        .keycap-price { font-size: 1.5rem; color: #0d9488; font-weight: bold; margin: 1rem 0; }
        .coming-soon { text-align: center; padding: 4rem 2rem; color: var(--text-gray); max-width: 1400px; margin: 0 auto; }
        @media (max-width: 768px) { .header-container { flex-direction: column; gap: 1rem; } .hero-section { padding: 100px 1rem 2rem; } .hero-section h1 { font-size: 2.5rem; } .keycaps-grid { grid-template-columns: 1fr; padding: 0 1rem 3rem; } }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo" onclick="window.location.href='index.html'">GGPOINT</div>
            <button class="back-btn" onclick="window.location.href='index.html'"><i class="fas fa-arrow-left"></i> На главную</button>
        </div>
    </header>

    <section class="hero-section">
        <h1>Кейкапы</h1>
        <p>Коллекция уникальных и качественных кейкапов для механических клавиатур</p>
    </section>

    <div class="keycaps-grid" id="keycapsGrid">
        <!-- Кейкапы будут загружены -->
    </div>

    <div class="coming-soon" id="comingSoon" style="display: none;">
        <i class="fas fa-keyboard" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;"></i>
        <h2>Скоро появятся!</h2>
        <p>Коллекция кейкапов в разработке. Вернитесь позже!</p>
        <button class="back-btn" onclick="window.location.href='index.html'" style="margin-top: 1.5rem;"><i class="fas fa-home"></i> На главную</button>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js';
        import { getDatabase, ref, onValue } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js';
        
        const firebaseConfig = {
            apiKey: "AIzaSyDcyOWAF7TA8h8P36Sk5EbDPzA9sEFuTXo",
            authDomain: "ggpoint-shop.firebaseapp.com",
            databaseURL: "https://ggpoint-shop-default-rtdb.firebaseio.com",
            projectId: "ggpoint-shop",
            storageBucket: "ggpoint-shop.firebasestorage.app",
            messagingSenderId: "182227173652",
            appId: "1:182227173652:web:0949e2edae9900afd98201",
            measurementId: "G-V76H7K3VR4"
        };
        
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        document.addEventListener('DOMContentLoaded', function() {
            loadKeycaps();
        });
        
        function loadKeycaps() {
            const keycapsRef = ref(database, 'keycaps');
            
            onValue(keycapsRef, (snapshot) => {
                const data = snapshot.val();
                const grid = document.getElementById('keycapsGrid');
                const comingSoon = document.getElementById('comingSoon');
                
                if (data && Object.keys(data).length > 0) {
                    grid.innerHTML = '';
                    comingSoon.style.display = 'none';
                    
                    Object.values(data).forEach(keycap => {
                        const card = document.createElement('div');
                        card.className = 'keycap-card';
                        card.innerHTML = `
                            <img src="${keycap.images && keycap.images.length > 0 ? keycap.images[0] : 'https://via.placeholder.com/300x250/1e293b/8b5cf6?text=Кейкап'}" 
                                 alt="${keycap.name}" 
                                 class="keycap-image"
                                 onerror="this.src='https://via.placeholder.com/300x250/1e293b/8b5cf6?text=Кейкап'">
                            <div class="keycap-info">
                                <h3 class="keycap-title">${keycap.name}</h3>
                                <div style="color: #8b5cf6; font-size: 0.9rem; font-weight: 600; margin-bottom: 0.5rem;">${keycap.material || 'PBT пластик'}</div>
                                <div class="keycap-price">${keycap.price || 'Цена не указана'}</div>
                                ${keycap.brand ? `<div style="color: #cbd5e1; font-size: 0.9rem;">Бренд: ${keycap.brand}</div>` : ''}
                                ${keycap.description ? `<p style="color: #cbd5e1; margin-top: 1rem; font-size: 0.9rem;">${keycap.description.substring(0, 100)}...</p>` : ''}
                            </div>
                        `;
                        grid.appendChild(card);
                    });
                } else {
                    grid.innerHTML = '';
                    comingSoon.style.display = 'block';
                }
            });
        }
    </script>
</body>
</html>
